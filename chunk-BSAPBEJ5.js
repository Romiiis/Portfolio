import{a as V}from"./chunk-K7BDPDC5.js";import{a as L}from"./chunk-S67NA6X6.js";import{Ba as g,H as C,Ia as d,J as E,Ja as h,Ma as c,Na as a,O,Oa as j,Ra as I,Sa as w,Ta as m,W as y,X as k,Ya as l,Za as p,_a as z,ab as x,bb as u,i as S,l as v,na as M,ob as D,p as b,pb as N,qa as o,qb as $,ua as A,v as _,ya as T,yb as F,zb as U}from"./chunk-ZJJPFOJG.js";var P=class r{constructor(i,t){this.http=i;this.translationService=t;this.loadProjects().subscribe({next:e=>{console.log("Projekty \xFAsp\u011B\u0161n\u011B na\u010Dteny:",e)},error:e=>{console.error("Chyba p\u0159i inicializa\u010Dn\xEDm na\u010D\xEDt\xE1n\xED projekt\u016F:",e)}}),this.translationService.onLanguageChange().subscribe(e=>{console.log("Zm\u011Bna jazyka na:",e),this.currentLanguage!==e&&(this.currentLanguage=e,this.loadProjects().subscribe({next:n=>{console.log(`Projekty po zm\u011Bn\u011B jazyka na ${e} \xFAsp\u011B\u0161n\u011B na\u010Dteny:`,n)},error:n=>{console.error(`Chyba p\u0159i na\u010D\xEDt\xE1n\xED projekt\u016F po zm\u011Bn\u011B jazyka na ${e}:`,n)}}))})}projectsSubject=new S([]);projects$=this.projectsSubject.asObservable();currentLanguage="";loading=!1;loadProjects(){if(this.loading)return console.log("Na\u010D\xEDt\xE1n\xED ji\u017E prob\xEDh\xE1 - vrac\xEDm aktu\xE1ln\xED projekty"),v(this.projectsSubject.getValue());this.loading=!0;let i=this.translationService.getCurrentLang();console.log(`Na\u010D\xEDt\xE1m projekty pro jazyk: ${i}`);let t=`assets/data/projects_${i}.json`;return console.log(`URL pro na\u010D\xEDt\xE1n\xED: ${t}`),this.http.get(t).pipe(b(e=>{if(console.log("Na\u010Dten\xE1 data ze souboru:",e),Array.isArray(e))return e;if(e&&e.projects&&Array.isArray(e.projects))return e.projects;if(e){console.warn("Nezn\xE1m\xFD form\xE1t dat, pokou\u0161\xEDm se extrahovat projekty:",e);let n=Object.values(e).find(s=>Array.isArray(s)&&s.length>0&&typeof s[0]=="object"&&"name"in s[0]);if(n&&Array.isArray(n))return n}return console.error("Nepoda\u0159ilo se naj\xEDt projekty v na\u010Dten\xFDch datech:",e),[]}),C(e=>{console.log(`Nalezeno ${e.length} projekt\u016F, aktualizuji stav`),this.projectsSubject.next(e),this.loading=!1}),_(e=>(console.error(`Chyba p\u0159i na\u010D\xEDt\xE1n\xED projekt\u016F pro jazyk ${i}:`,e),i!=="en"?(console.warn("Zkou\u0161\xEDm na\u010D\xEDst anglickou verzi projekt\u016F."),this.http.get("assets/data/projects-en.json").pipe(b(n=>{if(console.log("Na\u010Dten\xE1 data z anglick\xE9 verze:",n),Array.isArray(n))return n;if(n&&n.projects&&Array.isArray(n.projects))return n.projects;if(n){let s=Object.values(n).find(f=>Array.isArray(f)&&f.length>0&&typeof f[0]=="object"&&"name"in f[0]);if(s&&Array.isArray(s))return s}return[]}),C(n=>{console.log(`Nalezeno ${n.length} projekt\u016F z anglick\xE9 verze, aktualizuji stav`),this.projectsSubject.next(n),this.loading=!1}),_(n=>(console.error("Chyba p\u0159i na\u010D\xEDt\xE1n\xED anglick\xE9 verze projekt\u016F:",n),this.loading=!1,v([]))))):(this.loading=!1,v([])))))}getProjects(){return this.projectsSubject.getValue()}static \u0275fac=function(t){return new(t||r)(O(V),O(L))};static \u0275prov=E({token:r,factory:r.\u0275fac,providedIn:"root"})};function H(r,i){r&1&&j(0,"div",15)}function J(r,i){if(r&1){let t=I();c(0,"div",11),w("click",function(){let n=y(t).index,s=m();return k(s.selectProject(n))}),j(1,"div",12),g(2,H,1,0,"div",13),c(3,"div",14),l(4),a()()}if(r&2){let t=i.$implicit,e=i.index,n=m();h("active",n.selectedProjectIndex===e),o(2),d("ngIf",e<n.projects.length-1),o(2),p(t.name)}}function W(r,i){if(r&1&&(c(0,"a",23),j(1,"i",24),l(2),x(3,"translate"),a()),r&2){let t=m(2);d("href",t.projects[t.selectedProjectIndex].projectUrl,M),o(2),z(" ",u(3,2,"PROJECTS.VIEW_CODE")," ")}}function Z(r,i){if(r&1&&(c(0,"div",16)(1,"div",17)(2,"h2",18),l(3),a(),c(4,"div",19),l(5),a(),c(6,"div",20)(7,"p"),l(8),a()(),c(9,"div",21),g(10,W,4,4,"a",22),a()()()),r&2){let t=m();o(),h("animate",t.detailsAnimating),o(2),p(t.projects[t.selectedProjectIndex].name),o(2),p(t.projects[t.selectedProjectIndex].shortDescription),o(3),p(t.projects[t.selectedProjectIndex].longDescription),o(2),d("ngIf",t.projects[t.selectedProjectIndex].projectUrl)}}function q(r,i){if(r&1&&(c(0,"a",34),j(1,"i",24),l(2),x(3,"translate"),a()),r&2){let t=m().$implicit;d("href",t.projectUrl,M),o(2),z(" ",u(3,2,"PROJECTS.VIEW_CODE")," ")}}function G(r,i){if(r&1){let t=I();c(0,"div",25)(1,"div",26),w("click",function(){let n=y(t).index,s=m();return k(s.toggleAccordion(n))}),c(2,"div",27),l(3),a(),c(4,"div",28),j(5,"i",29),a()(),c(6,"div",30)(7,"div",31),l(8),a(),c(9,"p",32),l(10),a(),g(11,q,4,4,"a",33),a()()}if(r&2){let t=i.$implicit,e=i.index,n=m();o(3),p(t.name),o(2),d("ngClass",n.expandedProjectIndex===e?"fa-chevron-up":"fa-chevron-down"),o(),h("expanded",n.expandedProjectIndex===e),o(2),p(t.shortDescription),o(2),p(t.longDescription),o(),d("ngIf",t.projectUrl)}}var B=class r{constructor(i){this.projectsService=i}selectedProjectIndex=null;expandedProjectIndex=null;detailsAnimating=!1;projects=[];projectsSubscription;ngOnInit(){this.projectsSubscription=this.projectsService.projects$.subscribe(i=>{this.projects=i,this.projects.length>0&&(this.selectProject(0),this.expandedProjectIndex=0)}),this.projectsService.loadProjects().subscribe()}ngOnDestroy(){this.projectsSubscription&&this.projectsSubscription.unsubscribe()}selectProject(i){this.selectedProjectIndex!==i&&(this.selectedProjectIndex!==null?(this.detailsAnimating=!0,setTimeout(()=>{this.selectedProjectIndex=i,setTimeout(()=>{this.detailsAnimating=!1},50)},300)):this.selectedProjectIndex=i)}toggleAccordion(i){this.expandedProjectIndex=this.expandedProjectIndex===i?null:i}static \u0275fac=function(t){return new(t||r)(A(P))};static \u0275cmp=T({type:r,selectors:[["app-projects"]],decls:13,vars:6,consts:[[1,"projects-container"],[1,"projects-header"],[1,"title-container"],[1,"title-decoration"],[1,"title"],[1,"projects-showcase"],[1,"project-timeline"],["class","timeline-project",3,"active","click",4,"ngFor","ngForOf"],["class","project-details",4,"ngIf"],[1,"projects-accordion"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"timeline-project",3,"click"],[1,"timeline-dot"],["class","timeline-connector",4,"ngIf"],[1,"timeline-label"],[1,"timeline-connector"],[1,"project-details"],[1,"project-details-inner"],[1,"project-title"],[1,"project-tag"],[1,"project-description"],[1,"project-actions"],["target","_blank","rel","noopener noreferrer","class","project-link",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"project-link",3,"href"],[1,"fab","fa-github"],[1,"accordion-item"],[1,"accordion-header",3,"click"],[1,"accordion-title"],[1,"accordion-icon"],[1,"fas",3,"ngClass"],[1,"accordion-content"],[1,"accordion-tag"],[1,"accordion-description"],["target","_blank","rel","noopener noreferrer","class","accordion-link",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"accordion-link",3,"href"]],template:function(t,e){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),j(3,"div",3),c(4,"h1",4),l(5),x(6,"translate"),a()()(),c(7,"div",5)(8,"div",6),g(9,J,5,4,"div",7),a(),g(10,Z,11,6,"div",8),a(),c(11,"div",9),g(12,G,12,7,"div",10),a()()),t&2&&(o(5),p(u(6,4,"PROJECTS.TITLE")),o(4),d("ngForOf",e.projects),o(),d("ngIf",e.selectedProjectIndex!==null),o(2),d("ngForOf",e.projects))},dependencies:[N,$,D,U,F],styles:["[_ngcontent-%COMP%]:root{--section-spacing: 4rem;--border-radius: 12px;--timeline-dot-size: 16px;--timeline-thickness: 3px}.projects-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:3rem 2rem;min-height:calc(100vh - 200px)}.projects-header[_ngcontent-%COMP%]{margin-bottom:var(--section-spacing)}.title-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.title-decoration[_ngcontent-%COMP%]{width:5px;height:40px;background-color:var(--accent-color);margin-right:1rem;border-radius:2.5px}.title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:var(--text-color);letter-spacing:-.5px}.projects-showcase[_ngcontent-%COMP%]{display:flex;margin-bottom:var(--section-spacing);min-height:400px}.project-timeline[_ngcontent-%COMP%]{width:30%;padding-right:2rem;display:flex;flex-direction:column;position:relative}.timeline-project[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;padding:1rem 0;cursor:pointer;transition:all .3s ease}.timeline-dot[_ngcontent-%COMP%]{width:var(--timeline-dot-size);height:var(--timeline-dot-size);border-radius:50%;background-color:rgba(var(--accent-rgb),.3);border:2px solid transparent;transition:all .3s ease;z-index:2}.timeline-connector[_ngcontent-%COMP%]{position:absolute;top:calc(1rem + var(--timeline-dot-size)/2);left:calc(var(--timeline-dot-size)/2 - var(--timeline-thickness)/2);width:var(--timeline-thickness);height:calc(100% - var(--timeline-dot-size) - 1rem);background-color:rgba(var(--accent-rgb),.2);z-index:1}.timeline-label[_ngcontent-%COMP%]{margin-left:1rem;font-weight:500;color:var(--text-muted);transition:all .3s ease}.timeline-project[_ngcontent-%COMP%]:hover   .timeline-dot[_ngcontent-%COMP%], .timeline-project.active[_ngcontent-%COMP%]   .timeline-dot[_ngcontent-%COMP%]{background-color:var(--accent-color);transform:scale(1.2);border-color:rgba(var(--accent-rgb),.2)}.timeline-project[_ngcontent-%COMP%]:hover   .timeline-label[_ngcontent-%COMP%], .timeline-project.active[_ngcontent-%COMP%]   .timeline-label[_ngcontent-%COMP%]{color:var(--accent-color);transform:translate(5px)}.project-details[_ngcontent-%COMP%]{flex-grow:1;background-color:rgba(var(--accent-rgb),.05);border-radius:var(--border-radius);padding:2rem;position:relative;overflow:hidden}.project-details-inner[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);transition:opacity .3s ease,transform .3s ease}.project-details-inner.animate[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px)}.project-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:1rem;color:var(--text-color)}.project-tag[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background-color:rgba(var(--accent-rgb),.15);color:var(--accent-color);border-radius:50px;font-size:.9rem;font-weight:500;margin-bottom:1.5rem}.project-description[_ngcontent-%COMP%]{line-height:1.7;color:var(--text-color);margin-bottom:2rem}.project-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.project-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.8rem;padding:.8rem 1.5rem;background-color:var(--accent-color);color:#fff;border-radius:8px;text-decoration:none;font-weight:600;transition:all .3s ease}.project-link[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px rgba(var(--accent-rgb),.3)}.projects-accordion[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.accordion-item[_ngcontent-%COMP%]{background-color:rgba(var(--accent-rgb),.05);border-radius:var(--border-radius);overflow:hidden;transition:all .3s ease}.accordion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.2rem 1.5rem;cursor:pointer;transition:all .3s ease}.accordion-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:var(--text-color)}.accordion-icon[_ngcontent-%COMP%]{font-size:1rem;color:var(--accent-color);transition:transform .3s ease}.accordion-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .5s ease,padding .3s ease;padding:0 1.5rem}.accordion-content.expanded[_ngcontent-%COMP%]{max-height:1000px;padding:0 1.5rem 1.5rem}.accordion-tag[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;background-color:rgba(var(--accent-rgb),.15);color:var(--accent-color);border-radius:50px;font-size:.8rem;font-weight:500;margin-bottom:1rem}.accordion-description[_ngcontent-%COMP%]{line-height:1.6;font-size:.95rem;color:var(--text-color);margin-bottom:1.5rem}.accordion-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.6rem;padding:.7rem 1.2rem;background-color:var(--accent-color);color:#fff;border-radius:8px;text-decoration:none;font-weight:600;font-size:.9rem;transition:all .3s ease}.accordion-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 10px rgba(var(--accent-rgb),.3)}@media (max-width: 900px){.projects-showcase[_ngcontent-%COMP%]{flex-direction:column;min-height:auto}.project-timeline[_ngcontent-%COMP%]{width:100%;padding-right:0;margin-bottom:2rem;flex-direction:row;overflow-x:auto;padding-bottom:1rem}.timeline-project[_ngcontent-%COMP%]{flex-direction:column;padding:0 1rem}.timeline-dot[_ngcontent-%COMP%]{margin-bottom:.5rem}.timeline-connector[_ngcontent-%COMP%]{top:calc(var(--timeline-dot-size)/2 - var(--timeline-thickness)/2);left:calc(1rem + var(--timeline-dot-size));width:calc(100% - var(--timeline-dot-size) - 2rem);height:var(--timeline-thickness)}.timeline-label[_ngcontent-%COMP%]{margin-left:0;font-size:.9rem;white-space:nowrap}.project-details[_ngcontent-%COMP%]{padding:1.5rem}}@media (max-width: 768px){.projects-container[_ngcontent-%COMP%]{padding:2rem 1.5rem}.title[_ngcontent-%COMP%]{font-size:2.2rem}.projects-showcase[_ngcontent-%COMP%]{display:none}.projects-accordion[_ngcontent-%COMP%]{display:flex}}@media (max-width: 480px){.projects-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.title[_ngcontent-%COMP%]{font-size:1.8rem}.title-decoration[_ngcontent-%COMP%]{height:30px}.accordion-header[_ngcontent-%COMP%]{padding:1rem}.accordion-title[_ngcontent-%COMP%]{font-size:1.1rem}.accordion-content.expanded[_ngcontent-%COMP%]{padding:0 1rem 1.2rem}}"]})};export{B as ProjectsComponent};
