import{J as r,O as s,ba as g,wb as i}from"./chunk-EG66HFT6.js";var o=class n{constructor(e){this.translateS=e;let t=this.getSavedLanguage();this.translateS.setDefaultLang("en"),this.translateS.use(t),this.languageChange.emit(t),console.log("TranslationService initialized with language:",t)}languageChange=new g;LANG_STORAGE_KEY="app_preferred_language";getSavedLanguage(){let e=localStorage.getItem(this.LANG_STORAGE_KEY);if(e&&(e==="en"||e==="cs"))return console.log("Loaded language from localStorage:",e),e;let t=this.translateS.getBrowserLang(),a=t&&t.match(/en|cs/)?t:"en";return console.log("Using browser/default language:",a),a}setLanguage(e){e!==this.getCurrentLang()&&(console.log("Setting language to:",e),this.translateS.use(e),this.saveLanguage(e),this.languageChange.emit(e))}saveLanguage(e){localStorage.setItem(this.LANG_STORAGE_KEY,e),console.log("Saved language to localStorage:",e)}getCurrentLang(){return this.translateS.currentLang||this.translateS.defaultLang||"en"}switchLang(){let e=this.getCurrentLang(),t=e==="en"?"cs":"en";console.log("Switching language from",e,"to",t),this.translateS.use(t),this.saveLanguage(t),this.languageChange.emit(t)}translate(e){let t="";return this.translateS.get(e).subscribe(a=>{t=a}),t||e}onLanguageChange(){return this.languageChange.asObservable()}static \u0275fac=function(t){return new(t||n)(s(i))};static \u0275prov=r({token:n,factory:n.\u0275fac,providedIn:"root"})};export{o as a};
